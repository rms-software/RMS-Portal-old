{"version":3,"sources":["webpack:///./src/views/pages/Profile.vue?eaba","webpack:///./src/services/ProfileService.js","webpack:///src/views/pages/Profile.vue","webpack:///./src/views/pages/Profile.vue?ea17","webpack:///./src/views/pages/Profile.vue","webpack:///./src/components/common/ImageUploader.vue?c294","webpack:///./src/components/common/Box.vue?3b71","webpack:///src/components/common/Box.vue","webpack:///./src/components/common/Box.vue?685c","webpack:///./src/components/common/Box.vue","webpack:///./src/components/common/ImageUploader.vue?861a","webpack:///./node_modules/compress.js/src/core/base64.js","webpack:///./node_modules/compress.js/src/core/converter.js","webpack:///./node_modules/compress.js/src/core/file.js","webpack:///./node_modules/compress.js/src/core/image.js","webpack:///./node_modules/compress.js/src/core/photo.js","webpack:///./node_modules/compress.js/src/core/rotate.js","webpack:///./node_modules/compress.js/src/index.js","webpack:///src/components/common/ImageUploader.vue","webpack:///./src/components/common/ImageUploader.vue?e721","webpack:///./src/components/common/ImageUploader.vue","webpack:///./src/views/pages/Profile.vue?71a6","webpack:///./src/components/common/Box.vue?a3d3"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","directives","name","rawName","value","credentialsSettings","expression","domProps","on","$event","target","composing","$set","confirmPassword","updateCredentialsSettings","profileSettings","ref","model","callback","$$v","updateProfileInfo","staticRenderFns","profileInfo","ApiService","post","updateProfileCredentials","profileCredentials","components","Box","ImageUploader","GeneralService","data","methods","component","toggleCollapse","_s","title","class","collapsed","isCollapsed","_e","_t","props","type","String","default","collapsable","Boolean","style","pickImage","base64","len","replace","length","split","match","prefix","ext","size","base64ToFile","mime","byteString","window","atob","content","i","charCodeAt","Blob","Uint8Array","imageToCanvas","width","height","orientation","canvas","document","createElement","context","getContext","image","drawImage","translate","scale","rotate","Math","PI","canvasToBase64","quality","toDataURL","KB","MB","load","file","Promise","resolve","reject","fileReader","FileReader","addEventListener","evt","result","readAsDataURL","src","img","Image","resize","targetWidth","targetHeight","originalAspectRatio","targetAspectRatio","outputWidth","outputHeight","min","Photo","maxWidth","maxHeight","start","performance","now","end","alt","startSize","startWidth","startHeight","endSize","endWidth","endHeight","iterations","base64prefix","reader","onload","event","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","tags","readAsArrayBuffer","slice","el","options","input","querySelector","setAttribute","output","compress","files","all","map","compressFile","loopCompression","targetSize","targetQuality","base64str","newSize","async","photo","compressImage","naturalWidth","naturalHeight","minQuality","finalSize","difference","elapsedTimeInSeconds","initialSizeInMb","endSizeInMb","endWidthInPx","endHeightInPx","initialWidthInPx","initialHeightInPx","sizeReducedInPercent","mounted","attach","that","$emit","console","log","$refs","click"],"mappings":"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","file":"js/chunk-137931b3.041edf22.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"profile\"}},[_c('Box',{staticClass:\"login-credentials\",attrs:{\"title\":\"Login settings\",\"collapsable\":\"\"}},[_c('div',{staticClass:\"login-credential\"},[_vm._v(\" Username \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.credentialsSettings.username),expression:\"credentialsSettings.username\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.credentialsSettings.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.credentialsSettings, \"username\", $event.target.value)}}})]),_c('div',{staticClass:\"login-credential\"},[_vm._v(\" Password \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.credentialsSettings.password),expression:\"credentialsSettings.password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.credentialsSettings.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.credentialsSettings, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"login-credential\"},[_vm._v(\" Confirm password \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmPassword),expression:\"confirmPassword\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.confirmPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmPassword=$event.target.value}}})]),_c('div',{staticClass:\"login-credentials-save\"},[_c('button',{staticClass:\"main\",on:{\"click\":_vm.updateCredentialsSettings}},[_vm._v(\"Save\")])])]),_c('Box',{attrs:{\"title\":\"Profile settings\",\"collapsable\":\"\"}},[_c('div',{staticClass:\"profile-settings\"},[_c('div',{staticClass:\"textual-settings\"},[_c('div',{staticClass:\"profile-setting\"},[_vm._v(\" Firstname \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profileSettings.firstName),expression:\"profileSettings.firstName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.profileSettings.firstName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.profileSettings, \"firstName\", $event.target.value)}}})]),_c('div',{staticClass:\"profile-setting\"},[_vm._v(\" Lastname \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profileSettings.lastName),expression:\"profileSettings.lastName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.profileSettings.lastName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.profileSettings, \"lastName\", $event.target.value)}}})]),_c('div',{staticClass:\"profile-setting\"},[_vm._v(\" Email address \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profileSettings.email),expression:\"profileSettings.email\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.profileSettings.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.profileSettings, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"profile-setting\"},[_vm._v(\" address \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profileSettings.address),expression:\"profileSettings.address\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.profileSettings.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.profileSettings, \"address\", $event.target.value)}}})])]),_c('div',{staticClass:\"profile-pic-uploader\"},[_c('ImageUploader',{ref:\"image-uploader\",model:{value:(_vm.profileSettings.profilePicture),callback:function ($$v) {_vm.$set(_vm.profileSettings, \"profilePicture\", $$v)},expression:\"profileSettings.profilePicture\"}})],1)]),_c('div',{staticClass:\"login-credentials-save\"},[_c('button',{staticClass:\"main\",on:{\"click\":_vm.updateProfileInfo}},[_vm._v(\"Save\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ApiService from \"./ApiService\";\r\n\r\nexport default {\r\n    updateProfileInfo: async profileInfo => await ApiService.post(\"profile/info\", profileInfo),\r\n    updateProfileCredentials: async profileCredentials => await ApiService.post(\"profile/credentials\", profileCredentials),\r\n}","<template>\r\n  <div id=\"profile\">\r\n    <Box class=\"login-credentials\" title=\"Login settings\" collapsable>\r\n      <div class=\"login-credential\">\r\n        Username <input type=\"text\" v-model=\"credentialsSettings.username\" />\r\n      </div>\r\n      <div class=\"login-credential\">\r\n        Password <input type=\"password\" v-model=\"credentialsSettings.password\" />\r\n      </div>\r\n      <div class=\"login-credential\">\r\n        Confirm password <input type=\"password\" v-model=\"confirmPassword\" />\r\n      </div>\r\n\r\n      <div class=\"login-credentials-save\">\r\n        <button class=\"main\" @click=\"updateCredentialsSettings\">Save</button>\r\n      </div>\r\n    </Box>\r\n\r\n    <Box title=\"Profile settings\" collapsable>\r\n      <div class=\"profile-settings\">\r\n        <div class=\"textual-settings\">\r\n          <div class=\"profile-setting\">\r\n            Firstname <input type=\"text\" v-model=\"profileSettings.firstName\" />\r\n          </div>\r\n          <div class=\"profile-setting\">\r\n            Lastname <input type=\"text\" v-model=\"profileSettings.lastName\" />\r\n          </div>\r\n          <div class=\"profile-setting\">\r\n            Email address <input type=\"text\" v-model=\"profileSettings.email\" />\r\n          </div>\r\n          <div class=\"profile-setting\">\r\n            address <input type=\"text\" v-model=\"profileSettings.address\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"profile-pic-uploader\">\r\n          <ImageUploader v-model=\"profileSettings.profilePicture\" ref=\"image-uploader\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"login-credentials-save\">\r\n        <button class=\"main\" @click=\"updateProfileInfo\">Save</button>\r\n      </div>\r\n    </Box>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// Import components\r\nimport Box from \"@/components/common/Box.vue\";\r\nimport ImageUploader from \"@/components/common/ImageUploader\";\r\n\r\n// Import Services\r\nimport GeneralService from \"@/services/GeneralService\";\r\nimport ProfileService from \"@/services/ProfileService\";\r\n\r\n// Import others\r\nimport EventBus from \"@/bus\"\r\n\r\nexport default {\r\n  components: {\r\n    Box,\r\n    ImageUploader,\r\n    GeneralService\r\n  },\r\n\r\n  data: () => ({\r\n    confirmPassword: \"\",\r\n\r\n    profileSettings: {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      profilePicture: \"\"\r\n    },\r\n\r\n    credentialsSettings: {\r\n      username: \"\",\r\n      password: \"\"\r\n    }\r\n  }),\r\n\r\n  async mounted() {\r\n    const generalInfo = await GeneralService.getGeneralInfo();\r\n\r\n    this.profileSettings = {\r\n      firstName: generalInfo.firstName,\r\n      lastName: generalInfo.lastName,\r\n      email: generalInfo.emailAddress,\r\n      address: generalInfo.address,\r\n      profilePicture: generalInfo.profilePicture\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async updateCredentialsSettings() {\r\n      if (this.credentialsSettings.password !== this.confirmPassword) {\r\n        notifications.add(\"error\", \"Confirm password does not match password\")\r\n      } else {\r\n        const result = await ProfileService.updateProfileCredentials(this.credentialsSettings);\r\n\r\n        // Create and store the authorization header value\r\n        if (result !== undefined) {\r\n          const authHeaderValue = btoa(`${this.credentialsSettings.username}:${this.credentialsSettings.password}`);\r\n          localStorage.setItem(\"authHeader\", authHeaderValue);\r\n          notifications.add(\"info\", \"Login updated\")\r\n        }\r\n      }\r\n    },\r\n\r\n    async updateProfileInfo() {\r\n      const res = await ProfileService.updateProfileInfo(this.profileSettings);\r\n      if (res !== undefined) {\r\n        notifications.add(\"info\", \"Profile settings successfully updated\");\r\n        EventBus.$emit('refreshGeneralInfo');\r\n      } else {\r\n        notifications.add(\"error\", \"Something went wrong while updating profile settings\");\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../scss/views/pages/profile.scss\";\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=54eaa348&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=54eaa348&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54eaa348\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploader.vue?vue&type=style&index=0&id=3996b77a&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"box\"}},[_c('div',{attrs:{\"id\":\"box-title\"},on:{\"click\":_vm.toggleCollapse}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),(_vm.collapsable)?_c('span',{class:{ collapsed: _vm.isCollapsed },attrs:{\"id\":\"collapser\"}},[_c('unicon',{attrs:{\"name\":\"angle-double-up\"}})],1):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isCollapsed),expression:\"!isCollapsed\"}],attrs:{\"id\":\"box-body\"}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"box\">\r\n    <div id=\"box-title\" @click=\"toggleCollapse\">\r\n      {{ title }}\r\n\r\n      <span v-if=\"collapsable\" id=\"collapser\" :class=\"{ collapsed: isCollapsed }\">\r\n        <unicon name=\"angle-double-up\" />\r\n      </span>\r\n    </div>\r\n\r\n    <div id=\"box-body\" v-show=\"!isCollapsed\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    collapsable: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data:() => ({\r\n    isCollapsed: false\r\n  }),\r\n\r\n  methods: {\r\n    toggleCollapse() {\r\n      this.isCollapsed = !this.isCollapsed;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../scss/colors.scss\";\r\n\r\n#box {\r\n  background: #eee;\r\n  padding: 20px 40px;\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n\r\n  #box-title {\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n    color: #333;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    &:hover {\r\n      #collapser {\r\n        background: lighten(#eee, 8);\r\n      }\r\n    }\r\n\r\n    #collapser {\r\n      background: lighten(#eee, 3);\r\n      transition: transform 0.2s ease-in-out;\r\n      border-radius: 10px;\r\n\r\n      .unicon {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 40px;\r\n        height: 40px;\r\n      }\r\n\r\n      &.collapsed {\r\n        transform: rotate(180deg);\r\n      }\r\n    }\r\n    // border-bottom: 1px solid #aaaf;\r\n  }\r\n\r\n  #box-body {\r\n    margin: 20px 0px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Box.vue?vue&type=template&id=2c986695&scoped=true&\"\nimport script from \"./Box.vue?vue&type=script&lang=js&\"\nexport * from \"./Box.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Box.vue?vue&type=style&index=0&id=2c986695&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c986695\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{ref:\"image-uploader\",attrs:{\"type\":\"file\",\"id\":\"actual-btn\",\"hidden\":\"\"}}),_c('div',{staticClass:\"image-picker-overlay box\",style:((\"background: url(\" + _vm.value + \") no-repeat;\")),on:{\"click\":_vm.pickImage}},[_c('unicon',{staticClass:\"content\",attrs:{\"name\":\"camera\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const size = (base64) => {\n  const len = base64.replace(/^data:image\\/\\w+;base64,/, \"\").length;\n  return (len - 814) / 1.37;\n  // return len * 3 / 4\n};\n\n// strip off the data: url prefix to get just the base64-encoded bytes\n// var data = img.replace(/^data:image\\/\\w+;base64,/, \"\");\nconst mime = (base64) => {\n  return base64.split(\";\")[0].match(/jpeg|png|gif/)[0];\n};\n\nconst data = (base64) => {\n  return base64.replace(/^data:image\\/\\w+;base64,/, \"\");\n};\n\nconst prefix = (ext) => {\n  return `data:${ext};base64,`;\n};\n\nexport default { size, mime, data, prefix };\n","const base64ToFile = (base64, mime = \"image/jpeg\") => {\n  const byteString = window.atob(base64);\n  const content = [];\n  for (let i = 0; i < byteString.length; i++) {\n    content[i] = byteString.charCodeAt(i);\n  }\n  return new window.Blob([new Uint8Array(content)], { type: mime });\n};\n\nconst imageToCanvas = (width, height, orientation) => {\n  const canvas = document.createElement(\"canvas\");\n  const context = canvas.getContext(\"2d\");\n\n  canvas.width = width;\n  canvas.height = height;\n\n  return (image) => {\n    if (!orientation || orientation > 8) {\n      context.drawImage(image, 0, 0, canvas.width, canvas.height);\n      return canvas;\n    }\n    if (orientation > 4) {\n      canvas.width = height;\n      canvas.height = width;\n    }\n    switch (orientation) {\n      case 2:\n        // horizontal flip\n        context.translate(width, 0);\n        context.scale(-1, 1);\n        break;\n      case 3:\n        // 180° rotate left\n        context.translate(width, height);\n        context.rotate(Math.PI);\n        break;\n      case 4:\n        // vertical flip\n        context.translate(0, height);\n        context.scale(1, -1);\n        break;\n      case 5:\n        // vertical flip + 90 rotate right\n        context.rotate(0.5 * Math.PI);\n        context.scale(1, -1);\n        break;\n      case 6:\n        // 90° rotate right\n        context.rotate(0.5 * Math.PI);\n        context.translate(0, -height);\n        break;\n      case 7:\n        // horizontal flip + 90 rotate right\n        context.rotate(0.5 * Math.PI);\n        context.translate(width, -height);\n        context.scale(-1, 1);\n        break;\n      case 8:\n        // 90° rotate left\n        context.rotate(-0.5 * Math.PI);\n        context.translate(-width, 0);\n        break;\n    }\n    if (orientation > 4) {\n      context.drawImage(image, 0, 0, canvas.height, canvas.width);\n    } else {\n      context.drawImage(image, 0, 0, canvas.width, canvas.height);\n    }\n    return canvas;\n  };\n};\n\nconst canvasToBase64 = (canvas, quality = 0.75) => {\n  // in order to compress the final image format has to be jpeg\n  const base64 = canvas.toDataURL(\"image/jpeg\", quality);\n  return base64;\n};\n\nconst size = (size) => ({\n  KB: size / 1000,\n  MB: size / (1000 * 1000),\n});\n\nexport default { base64ToFile, imageToCanvas, canvasToBase64, size };\n","const load = (file) => {\n  return new Promise((resolve, reject) => {\n    const fileReader = new window.FileReader();\n    fileReader.addEventListener(\n      \"load\",\n      (evt) => resolve(evt.target.result),\n      false\n    );\n\n    fileReader.addEventListener(\"error\", reject, false);\n\n    fileReader.readAsDataURL(file);\n  });\n};\n\nexport default { load };\n","const load = (src) => {\n  return new Promise((resolve, reject) => {\n    const img = new window.Image();\n    img.addEventListener(\"load\", () => resolve(img), false);\n    img.addEventListener(\"error\", reject, false);\n    img.src = src;\n  });\n};\n/*\n * Resize the image based on the given height or width boundary.\n * Auto resize based on aspect ratio.\n **/\nconst resize = (targetWidth, targetHeight) => {\n  return (width, height) => {\n    if (!targetWidth && !targetHeight) return { width, height };\n\n    const originalAspectRatio = width / height;\n    const targetAspectRatio = targetWidth / targetHeight;\n\n    let outputWidth, outputHeight;\n\n    if (originalAspectRatio > targetAspectRatio) {\n      outputWidth = Math.min(width, targetWidth);\n      outputHeight = outputWidth / originalAspectRatio;\n    } else {\n      outputHeight = Math.min(height, targetHeight);\n      outputWidth = outputHeight * originalAspectRatio;\n    }\n\n    return { width: outputWidth, height: outputHeight };\n  };\n};\n\nexport default { load, resize };\n","// The photo model\nclass Photo {\n  constructor({\n    quality = 0.75,\n    size = 2,\n    maxWidth = 1920,\n    maxHeight = 1920,\n    resize = true,\n    rotate = false,\n  }) {\n    this.start = window.performance.now();\n    this.end = null;\n\n    this.alt = null;\n    this.ext = null;\n    this.startSize = null;\n    this.startWidth = null;\n    this.startHeight = null;\n\n    // size in MB\n    this.size = size * 1000 * 1000;\n    this.endSize = null;\n    this.endWidth = null;\n    this.endHeight = null;\n    this.iterations = 0;\n    this.base64prefix = null;\n    this.quality = quality;\n    this.resize = resize;\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this.orientation = 1;\n    this.rotate = rotate;\n  }\n}\nexport default Photo;\n","// https://stackoverflow.com/questions/20600800/js-client-side-exif-orientation-rotate-and-mirror-jpeg-images/31273162#31273162\n\nconst orientation = (file) => {\n  return new Promise((resolve) => {\n    const reader = new window.FileReader();\n\n    reader.onload = function (event) {\n      var view = new DataView(event.target.result);\n\n      if (view.getUint16(0, false) !== 0xffd8) {\n        resolve(-2);\n      }\n      const length = view.byteLength;\n      let offset = 2;\n\n      while (offset < length) {\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n\n        if (marker === 0xffe1) {\n          if (view.getUint32((offset += 2), false) !== 0x45786966) {\n            resolve(-1);\n          }\n          const little = view.getUint16((offset += 6), false) === 0x4949;\n          offset += view.getUint32(offset + 4, little);\n          const tags = view.getUint16(offset, little);\n          offset += 2;\n\n          for (let i = 0; i < tags; i++) {\n            if (view.getUint16(offset + i * 12, little) === 0x0112) {\n              resolve(view.getUint16(offset + i * 12 + 8, little));\n            }\n          }\n        } else if ((marker & 0xff00) !== 0xff00) break;\n        else offset += view.getUint16(offset, false);\n      }\n      resolve(-1);\n    };\n    reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n  });\n};\n\nexport default { orientation };\n","// Support regenerator-runtime globally.\nimport \"regenerator-runtime/runtime.js\";\n\nimport Base64 from \"./core/base64.js\";\nimport Converter from \"./core/converter.js\";\nimport File from \"./core/file.js\";\nimport Image from \"./core/image.js\";\nimport Photo from \"./core/photo.js\";\nimport Rotate from \"./core/rotate.js\";\n\n// Supported input formats\n// image/png, image/jpeg, image/jpg, image/gif, image/bmp, image/tiff, image/x-icon,  image/svg+xml, image/webp, image/xxx\n// image/png, image/jpeg, image/webp\nexport default class Compress {\n  attach(el, options) {\n    return new Promise((resolve) => {\n      const input = document.querySelector(el);\n      input.setAttribute(\"accept\", \"image/*\");\n      input.addEventListener(\n        \"change\",\n        (evt) => {\n          const output = this.compress([...evt.target.files], options);\n          resolve(output);\n        },\n        false\n      );\n    });\n  }\n\n  compress(files, options) {\n    return Promise.all(files.map((file) => compressFile(file, options)));\n  }\n\n  static convertBase64ToFile(base64, mime) {\n    return Converter.base64ToFile(base64, mime);\n  }\n}\n\nfunction loopCompression(\n  canvas,\n  size,\n  quality = 1,\n  targetSize,\n  targetQuality = 1,\n  iterations = 1\n) {\n  const base64str = Converter.canvasToBase64(canvas, quality);\n  const newSize = Base64.size(base64str);\n\n  return newSize > targetSize || quality > targetQuality\n    ? loopCompression(\n        canvas,\n        newSize,\n        quality - 0.1,\n        targetSize,\n        targetQuality,\n        iterations + 1\n      )\n    : base64str;\n}\n\nasync function compressFile(file, options) {\n  // Create a new photo object\n  const photo = new Photo(options);\n  photo.start = window.performance.now();\n  photo.alt = file.name;\n  photo.ext = file.type;\n  photo.startSize = file.size;\n  photo.orientation = photo.rotate ? await Rotate.orientation(file) : 0;\n\n  return compressImage(photo)(await File.load(file));\n}\n\nfunction compressImage(photo) {\n  return async (src) => {\n    const img = await Image.load(src);\n    // Store the initial dimensions\n    photo.startWidth = img.naturalWidth;\n    photo.startHeight = img.naturalHeight;\n\n    // Resize the image\n    if (photo.resize) {\n      const { width, height } = Image.resize(photo.maxWidth, photo.maxHeight)(\n        img.naturalWidth,\n        img.naturalHeight\n      );\n      photo.endWidth = width;\n      photo.endHeight = height;\n    } else {\n      photo.endWidth = img.naturalWidth;\n      photo.endHeight = img.naturalHeight;\n    }\n\n    const canvas = Converter.imageToCanvas(\n      photo.endWidth,\n      photo.endHeight,\n      photo.orientation\n    )(img);\n\n    photo.iterations = 1;\n    photo.base64prefix = Base64.prefix(photo.ext);\n\n    const base64 = await loopCompression(\n      canvas,\n      photo.startSize,\n      photo.quality,\n      photo.size,\n      photo.minQuality,\n      photo.iterations\n    );\n\n    photo.finalSize = Base64.size(base64);\n    photo.end = window.performance.now();\n    const difference = photo.end - photo.start; // in ms\n\n    return {\n      data: Base64.data(base64),\n      prefix: photo.base64prefix,\n      elapsedTimeInSeconds: difference / 1000, // in seconds\n      alt: photo.alt,\n      initialSizeInMb: Converter.size(photo.startSize).MB,\n      endSizeInMb: Converter.size(photo.finalSize).MB,\n      ext: photo.ext,\n      quality: photo.quality,\n      endWidthInPx: photo.endWidth,\n      endHeightInPx: photo.endHeight,\n      initialWidthInPx: photo.startWidth,\n      initialHeightInPx: photo.startHeight,\n      sizeReducedInPercent:\n        ((photo.startSize - photo.finalSize) / photo.startSize) * 100,\n      iterations: photo.iterations,\n    };\n  };\n}\n","<template>\r\n  <div>\r\n    <input type=\"file\" id=\"actual-btn\" ref=\"image-uploader\" hidden />\r\n\r\n    <!--our custom file upload button-->\r\n    <div @click=\"pickImage\" class='image-picker-overlay box' :style=\"`background: url(${value}) no-repeat;`\">\r\n      <unicon name=\"camera\" class='content' />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// https://dev.to/faddalibrahim/how-to-create-a-custom-file-upload-button-using-html-css-and-javascript-1c03\r\n\r\n// Import libraries\r\nimport Compress from \"compress.js\"\r\n\r\nconst compress = new Compress();\r\n\r\nexport default {\r\n  data: () => ({\r\n  }),\r\n\r\n  props: ['value'],\r\n\r\n  mounted() {\r\n    const that = this;\r\n\r\n    compress.attach('#actual-btn', {\r\n      size: 0.051,\r\n      quality: .75\r\n    }).then(data => {\r\n      const file = data[0]\r\n      that.$emit('input', file.prefix + file.data);\r\n      console.log(file.data.length)\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    pickImage() {\r\n      this.$refs['image-uploader'].click();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.box {\r\n  position: relative;\r\n  width:    100%;\r\n  opacity: 0.5;\r\n  background: white;\r\n  background-size: cover !important;\r\n}\r\n\r\n.box:before {\r\n  content:     \"\";\r\n  display:     block;\r\n  padding-top: 100%;\r\n}\r\n\r\n.content {\r\n  position: absolute;\r\n  top:      50%;\r\n  left:     50%;\r\n  scale:    6;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageUploader.vue?vue&type=template&id=3996b77a&scoped=true&\"\nimport script from \"./ImageUploader.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageUploader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageUploader.vue?vue&type=style&index=0&id=3996b77a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3996b77a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=54eaa348&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=style&index=0&id=2c986695&scoped=true&lang=scss&\""],"sourceRoot":""}