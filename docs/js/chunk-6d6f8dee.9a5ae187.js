(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d6f8dee"],{"11de":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.visible?r("div",{staticClass:"outer-modal"},[r("div",{staticClass:"inner-modal"},[r("div",{staticClass:"modal-header"},[r("div",{staticClass:"modal-title"},[t._v(" "+t._s(t.title)+" ")])]),r("div",{staticClass:"modal-body"},[t._t("default")],2),r("div",{staticClass:"modal-actions"},[r("button",{staticClass:"button delete",on:{click:function(e){t.visible=!1}}},[r("unicon",{attrs:{name:"x",fill:"white"}})],1),r("button",{staticClass:"button add",on:{click:function(e){return t.$emit("submit")}}},[r("unicon",{attrs:{name:"check",fill:"white"}})],1)])])]):t._e()},a=[],u={props:{title:{type:String,default:""}},data:function(){return{visible:!1}},methods:{show:function(){this.visible=!this.visible}}},c=u,i=(r("3879"),r("2877")),s=Object(i["a"])(c,n,a,!1,null,"f1a44f80",null);e["a"]=s.exports},"1b1e":function(t,e,r){},"1cb9":function(t,e,r){},2532:function(t,e,r){"use strict";var n=r("23e7"),a=r("e330"),u=r("5a34"),c=r("1d80"),i=r("577e"),s=r("ab13"),o=a("".indexOf);n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~o(i(c(this)),i(u(t)),arguments.length>1?arguments[1]:void 0)}})},"384d":function(t,e,r){"use strict";r("1b1e")},3879:function(t,e,r){"use strict";r("1cb9")},"73c5":function(t,e,r){"use strict";var n=r("1da1"),a=(r("96cf"),r("5ce5"));e["a"]={updateProduct:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("products/update",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getAllProducts:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("products");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getProduct:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("products/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),deleteProduct:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].delete("products/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getAllProductOptions:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("options/".concat(e,"/all"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}},caad:function(t,e,r){"use strict";var n=r("23e7"),a=r("4d64").includes,u=r("44d2");n({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),u("includes")},d393:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"products"}},[r("Modal",{ref:"ProductDeletion",attrs:{title:"Deleting product"},on:{submit:t.deleteProduct}},[t._v(" Are you sure you want to delete this product? ")]),r("div",{attrs:{id:"products-search"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),r("button",{staticClass:"btn add text",on:{click:t.createProduct}},[r("unicon",{attrs:{name:"plus",fill:"white"}}),t._v(" New product ")],1)]),r("div",{attrs:{id:"products-grid"}},t._l(t.filteredProducts,(function(e){return r("Card",{attrs:{title:e.name,image:e.image}},[r("div",{staticClass:"product-buttons"},[r("button",{staticClass:"btn edit text",on:{click:function(r){return t.editProduct(e)}}},[r("unicon",{attrs:{name:"pen",fill:"white"}}),t._v(" Edit ")],1),r("button",{staticClass:"btn delete text",on:{click:function(r){return t.askDeleteProduct(e)}}},[r("unicon",{attrs:{name:"trash",fill:"white"}}),t._v(" Delete ")],1)])])})),1)],1)},a=[],u=r("1da1"),c=(r("96cf"),r("4de4"),r("d3b7"),r("caad"),r("2532"),r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"card"}},[r("div",{attrs:{id:"card-title"}},[t._v(" "+t._s(t.title)+" ")]),r("div",{attrs:{id:"card-image"}},[r("img",{attrs:{src:t.image}})]),r("div",{attrs:{id:"card-body"}},[t._t("default")],2)])}),i=[],s={props:{title:{type:String,default:""},image:{type:String,default:""}}},o=s,d=(r("384d"),r("2877")),l=Object(d["a"])(o,c,i,!1,null,"8e7bf1be",null),p=l.exports,f=r("11de"),h=r("73c5"),m={components:{Card:p,Modal:f["a"]},computed:{filteredProducts:function(){var t=this;return this.products.filter((function(e){return""===t.searchQuery||e.name.toLowerCase().includes(t.searchQuery.toLowerCase())}))}},data:function(){return{searchQuery:"",activeProduct:null,products:[]}},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadproducts();case 2:case"end":return e.stop()}}),e)})))()},methods:{createProduct:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$router.push("/rms/products/new");case 2:t.$router.go(1);case 3:case"end":return e.stop()}}),e)})))()},editProduct:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$router.push("/rms/products/"+t.id);case 2:e.$router.go(1);case 3:case"end":return r.stop()}}),r)})))()},askDeleteProduct:function(t){this.activeProduct=t,this.$refs.ProductDeletion.show()},deleteProduct:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h["a"].deleteProduct(t.activeProduct.id);case 3:return t.products=[],t.activeProduct=null,t.$refs.ProductDeletion.show(),e.next=8,t.loadproducts();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),notifications.add("error","Something went wrong while trying to delete product");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},loadproducts:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].getAllProducts();case 2:t.products=e.sent;case 3:case"end":return e.stop()}}),e)})))()}}},v=m,b=(r("e721"),Object(d["a"])(v,n,a,!1,null,"2aaf8b46",null));e["default"]=b.exports},e721:function(t,e,r){"use strict";r("eb8e")},eb8e:function(t,e,r){}}]);
//# sourceMappingURL=chunk-6d6f8dee.9a5ae187.js.map